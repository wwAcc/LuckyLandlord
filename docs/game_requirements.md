# 《幸运房东》类 Slot+Roguelike 游戏开发需求文档

## 1. 项目概述

### 1.1 项目目标
- 开发一款玩法参考Steam《Luck be a Landlord》的slot+roguelike构筑类休闲游戏。
- 玩法丰富、策略性强，画面简洁，符号和UI为主。
- 支持后续移植到微信小游戏、抖音小游戏等平台。
- 采用模块化设计，确保美术资源可灵活替换。

### 1.2 目标平台
- 开发阶段：Unity (PC/Mac)
- 目标平台：
  - 微信小游戏
  - 抖音小游戏
  - 其他小游戏平台（可选）

## 2. 核心玩法设计

### 2.1 基础玩法
- 玩家通过拉动老虎机（Slot Machine）获得金币。
- 老虎机格子中会出现各种符号（Symbol），每种符号有不同的效果和收益。
- 每回合结束后，玩家获得本回合所有符号带来的金币。
- 玩家可以用金币购买新的符号或道具，添加到老虎机中，构筑自己的符号组合。
- 每若干回合需要支付房租，房租逐步递增，未能支付则游戏失败。
- 游戏包含大量符号、道具、组合效果，具有roguelike的随机性和策略性。

### 2.2 符号与道具系统
- 符号（Symbol）：
  - 不同类型（如水果、动物、特殊符号等），拥有独立效果。
  - 可通过购买、事件、升级等方式获得。
  - 支持符号间的组合与联动效果。
- 道具（Item）：
  - 为全局被动效果，影响符号表现或回合收益。
  - 可通过购买、事件等方式获得。
  - 支持多种稀有度和叠加机制。

### 2.3 回合与房租机制
- 游戏以回合为单位，每回合拉动一次老虎机。
- 每隔固定回合需支付房租，房租金额逐步递增。
- 未能支付房租则游戏失败，成功支付则进入下一阶段。
- 游戏目标为尽可能多地支付房租，挑战更高分数。

### 2.4 Roguelike与构筑元素
- 每局游戏内容随机，符号和道具池每局刷新。
- 玩家每局可构筑不同的符号组合，体验不同策略。
- 游戏内有成就、解锁、符号/道具图鉴等收集要素。

## 3. 技术架构

### 3.1 开发环境
- 游戏引擎：Unity 2022.3 LTS
- 开发语言：C#
- 版本控制：Git

### 3.2 核心模块
1. 老虎机与符号系统
   - 老虎机格子管理
   - 符号数据结构与效果逻辑
   - 符号购买、添加、移除、升级
   - 符号组合与联动效果

2. 道具系统
   - 道具数据结构与效果逻辑
   - 道具购买、叠加、触发

3. 回合与房租系统
   - 回合推进与结算
   - 房租递增与支付判定
   - 失败与胜利判定

4. 随机事件与内容生成
   - 符号/道具池刷新
   - 随机事件触发与处理

5. 存档与进度系统
   - 本地数据存储
   - 云存档（可选）
   - 成就与解锁系统

### 3.3 美术资源管理
- 采用资源包管理，符号、道具、UI等资源可独立替换。
- 支持动态加载与热更新。
- 预留美术资源替换接口，便于后续美术升级。

## 4. 开发阶段规划

### 4.1 第一阶段：核心玩法
- 实现老虎机与符号系统
- 完成基础回合与房租机制
- 实现基础道具系统
- 使用临时美术资源
- 简单UI界面

### 4.2 第二阶段：内容扩展
- 丰富符号与道具种类
- 实现符号组合与联动效果
- 添加成就与解锁系统
- 完善UI与交互体验

### 4.3 第三阶段：平台适配
- 微信小游戏适配
- 抖音小游戏适配
- 性能优化与平台特性整合

### 4.4 第四阶段：美术优化
- 替换正式美术资源
- 优化动画与特效
- 完善UI动效

## 5. 技术注意事项

### 5.1 性能优化
- 使用对象池管理频繁创建的对象
- 优化资源加载策略
- 控制内存占用
- 优化渲染性能

### 5.2 跨平台兼容
- 使用平台无关的API
- 预留平台特定功能接口
- 适配不同屏幕分辨率
- 处理平台差异

### 5.3 代码规范
- 遵循Unity最佳实践
- 使用设计模式优化代码结构
- 编写单元测试
- 保持代码可维护性

## 6. 风险评估

### 6.1 技术风险
- 小游戏平台性能限制
- 跨平台兼容性问题
- 存档系统安全性

### 6.2 项目风险
- 开发周期控制
- 美术资源替换成本
- 平台审核要求

## 7. 后续规划

### 7.1 运营计划
- 数据分析系统
- 活动系统
- 社交系统

### 7.2 版本迭代
- 新符号与道具类型
- 新玩法模式
- 新活动内容
- 持续优化美术与体验 