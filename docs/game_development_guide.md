# 《幸运房东》类 Slot+Roguelike 游戏开发文档

## 1. 项目结构

### 1.1 目录建议
- Assets/
  - Scripts/         // 代码脚本
  - Art/             // 美术资源（可替换）
  - Prefabs/         // 预制体
  - UI/              // UI资源与界面
  - Audio/           // 音效与音乐
  - Resources/       // 配置表、符号/道具数据等
- Docs/              // 文档
- Plugins/           // 第三方插件

### 1.2 代码结构
- 按功能模块划分命名空间和文件夹
- 主要模块：
  - SlotMachine      // 老虎机与格子管理
  - Symbol           // 符号系统
  - Item             // 道具系统
  - Turn             // 回合与房租系统
  - Event            // 随机事件与内容生成
  - Save             // 存档与进度
  - UI               // UI与交互
  - Platform         // 平台适配

## 2. 主要模块设计

### 2.1 老虎机与符号系统
- 老虎机格子管理（SlotGridManager）
- 符号基类（SymbolBase）及各类符号子类
- 符号效果触发、购买、添加、移除、升级
- 符号组合与联动机制（如观察者/事件系统）

### 2.2 道具系统
- 道具基类（ItemBase）及各类道具子类
- 道具全局被动效果管理
- 道具购买、叠加、触发

### 2.3 回合与房租系统
- 回合推进与结算（TurnManager）
- 房租递增与支付判定
- 失败与胜利判定

### 2.4 随机事件与内容生成
- 符号/道具池刷新与抽取
- 随机事件触发与处理
- 内容可配置化（ScriptableObject/JSON）

### 2.5 存档与进度系统
- 本地数据存储（PlayerPrefs/本地文件）
- 云存档接口预留
- 成就与解锁系统

### 2.6 UI与交互
- 老虎机主界面
- 商店界面（符号/道具购买）
- 房租支付与结算界面
- 成就、图鉴、设置等界面
- UI事件与动画管理

### 2.7 平台适配
- 微信小游戏/抖音小游戏SDK集成
- 屏幕分辨率与适配
- 平台特性接口（如分享、广告、存档等）

## 3. 开发流程建议

### 3.1 第一阶段：核心玩法开发
- 搭建基础项目结构与目录
- 实现老虎机与符号系统的核心逻辑
- 实现回合推进与房租机制
- 实现基础UI与交互
- 使用临时美术资源

### 3.2 第二阶段：内容与系统扩展
- 丰富符号与道具种类
- 实现符号组合与联动效果
- 完善道具系统与事件系统
- 添加成就、图鉴、存档等系统
- 优化UI与用户体验

### 3.3 第三阶段：平台适配与优化
- 集成微信/抖音小游戏SDK
- 适配不同分辨率与平台特性
- 性能优化与资源管理
- 处理平台审核相关需求

### 3.4 第四阶段：美术与体验升级
- 替换正式美术资源
- 优化动画、特效与UI动效
- 持续打磨用户体验

## 4. 资源管理与美术替换
- 所有符号、道具、UI等资源均需支持热更新与动态替换
- 资源命名规范，便于批量替换
- 采用ScriptableObject/配置表管理符号与道具数据
- 美术资源与逻辑解耦，便于后续升级

## 5. 跨平台与适配
- 尽量使用Unity原生API，避免平台专有代码
- 预留平台特性接口，便于后续集成
- 适配不同屏幕比例与分辨率
- 处理小游戏平台的性能与内存限制

## 6. 代码规范与协作
- 遵循C#与Unity开发最佳实践
- 采用面向对象与设计模式（如单例、观察者、事件总线等）
- 代码注释与文档齐全，便于团队协作
- 重要逻辑编写单元测试
- 版本控制（Git）分支管理规范：如main/dev/feature/bugfix等

## 7. 其他建议
- 定期代码Review与重构，保持项目健康
- 及时同步需求与美术、策划沟通
- 关注小游戏平台政策与审核要求
- 预留数据分析与运营接口，便于后续运营

---
如需详细类图、接口说明或具体模块实现方案，可进一步细化补充。 